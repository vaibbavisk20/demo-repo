
name: Workflow to deploy Open AI Search Model on azure

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
  workflow_dispatch:

permissions:
  id-token: write
  contents: read

jobs:
  deploy-resources-to-azure:
    runs-on: ubuntu-latest
    steps:
        - name: Checkout master
          uses: actions/checkout@v3
          
        - name: Edit yaml file
          uses: fjogeleit/yaml-update-action@main
          with:
            valueFile: 'testing.yaml'
            propertyPath: 'approach_classifier.openai_settings.engine'
            value: chat
            commitChange: true
            # changes: |
            #   {
            #     "testing.yaml": {
            #       "approach_classifier.openai_settings.engine": "chat",
            #     },
            #   }
